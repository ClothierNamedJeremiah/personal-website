import React, { useEffect } from 'react';

import styles from './Loader.module.css';

type Props = {
  onLoadingFinished(): void;
};

const Loader = ({ onLoadingFinished }: Props) => {
  useEffect(() => {
    const loadingTimeout = setTimeout(() => {
      onLoadingFinished();
    }, 3500);

    return () => {
      clearTimeout(loadingTimeout);
    };
  }, []);

  return (
    <div className={styles.wrapper}>
      <svg className={styles.icon} viewBox="0 0 100 100">
        <path
          d="M 56.711 29.432 C 52.871 30.167 49.03 31.874 46.018 34.164 C 40.5 38.377 37.064 43.758 35.366 50.801 C 34.861 52.919 34.8 53.416 34.8 57.413 C 34.8 61.216 34.861 61.972 35.265 63.766 C 37.246 72.322 42.299 79.193 49.353 82.888 C 53.639 85.157 56.549 85.87 61.279 85.891 C 64.089 85.891 64.816 85.827 66.838 85.33 C 69.486 84.66 71.689 83.817 73.892 82.585 C 78.46 80.036 83.19 74.742 85.312 69.816 C 86.808 66.359 87.859 61.756 87.859 58.753 L 87.859 57.521 L 85.191 57.521 L 82.503 57.521 L 82.442 58.558 C 82.139 64.522 79.976 69.621 75.994 73.748 C 73.609 76.233 70.921 77.983 67.929 78.977 C 64.998 79.971 64.21 80.101 61.178 80.079 C 58.672 80.079 57.944 79.993 56.125 79.496 C 47.352 77.054 41.005 69.167 40.177 59.66 C 39.065 47.02 47.716 35.936 59.561 34.877 L 61.259 34.726 L 61.279 31.874 L 61.279 29 L 60.066 29.022 C 59.399 29.022 57.883 29.216 56.711 29.432 Z"
          stroke="#F3F3F3"
          fill="none"
          className={styles['is-active']}
          transform="matrix(1, 0, 0, 1, -10, -6)"
        />
        <path
          d="M 63.563 51.19 L 63.503 64.544 L 62.997 65.494 C 62.249 66.899 61.421 67.352 59.541 67.331 C 56.913 67.309 55.963 66.38 55.741 63.658 L 55.62 61.951 L 52.769 61.908 C 48.747 61.843 48.969 61.713 49.111 64.09 C 49.333 68.606 51.638 71.804 55.721 73.23 C 57.237 73.77 57.742 73.835 59.965 73.835 C 63.786 73.813 66.11 72.927 68.192 70.658 C 69.142 69.621 70.112 67.525 70.456 65.775 C 70.597 64.997 70.678 60.309 70.678 51.255 L 70.678 37.859 L 67.141 37.859 L 63.624 37.859 L 63.563 51.19 Z"
          stroke="#F3F3F3"
          fill="none"
          className={styles['is-active']}
          transform="matrix(1, 0, 0, 1, -10, -6)"
        />
      </svg>
    </div>
  );
};

export default Loader;
